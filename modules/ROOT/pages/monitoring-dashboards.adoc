= Monitoring Dashboards on Runtime Manager
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]

The Anypoint Runtime Manager monitoring dashboards give you in-depth visibility into usage metrics about both your deployed apps and the systems they're deployed to. 

Anypoint Platform Private Cloud Edition doesn't support the Anypoint Monitoring dashboard feature.

To view dashboards, you must have either the Runtime Manager Read Applications permission or the Runtime Manager Read Servers permission for the resource.

Anypoint Runtime Manager provides these dashboards:

* <<Application Monitoring Dashboards,Application monitoring dashboards>>
+
Displays information about applications, including deployment target and status.
+
Runtime Manager provides two application dashboard interfaces: built-in and classic. The dashboard you see depends on the version, type, and deployment method of the selected application.
* <<Server Monitoring Dashboard,Server monitoring dashboard>>
+
Provides high-level information about the servers, including heap memory and CPU percentage, as well as detailed memory usage metrics.
* <<Server Group or Cluster Monitoring Dashboard,Server group or cluster monitoring dashboards>>
+
Displays aggregated metrics for selected servers in a group or cluster.

Using the information gathered from these dashboards, you can:

* Set up alerts for applications and servers to notify you automatically when any of these metrics reaches a critical value for a sustained period.
* Use Insight to help analyze the root cause of failures, isolate performance bottlenecks, and test for compliance with company procedures.

== Application Monitoring Dashboards

The app monitoring dashboards help you answer questions about your integrated apps, such as:

* When did peaks in usage occur?
* What impact do high traffic peaks have on response time?
* How well is the processing power behind my app coping with these high traffic peaks?
* What impact do high traffic peaks have on the message fail rate?
* What impact do high traffic peaks of other apps running on the same server have on the performance of a given app?

=== Built-in Anypoint Monitoring Dashboard

The Anypoint Monitoring dashboard provides a wider array of monitoring metrics than the classic application monitoring dashboard and includes several pages in which to view different types of charts. 

This dashboard is displayed if the selected application is: 

* Deployed to CloudHub or Runtime Fabric
* Running on Mule 3.8.7-AM or 3.9.0 and later
* Has Anypoint Monitoring enabled

For information, see xref:monitoring::app-dashboards.adoc[Built-in Application Dashboard] in the Anypoint Monitoring documentation.

=== Classic Application Monitoring Dashboard

The classic application monitoring dashboard displays metrics for Mule messages, CPU, and memory.

This dashboard is displayed if the selected application is: 

* Deployed to CloudHub
* Running on Mule versions earlier than 3.8.7
* Deployed on-premises (hybrid)
+
For hybrid apps, the dashboard appears if monitoring is enabled and there are CPU metrics for the last 24 hours of monitoring.
* Not enabled for monitoring


=== Access the Application Monitoring Dashboard

When you access the monitoring dashboard for an application, the dashboard you see depends on the version, type, and deployment method of the selected application.

To access the application monitoring dashboard:

. In Runtime Manager, click *Applications*.
. Click the name of the application to monitor. 

If the built-in Anypoint Monitoring dashboard is displayed, you can click the *Switch back to classic metrics* link to view the classic application monitoring dashboard. If not, you can access the Anypoint Monitoring dashboard by clicking the blue banner at the top of the page.

=== Navigating the Application Monitoring Dashboard

You can view all graphs for different time ranges by selecting the desired time interval in the top-right corner of the dashboard you are viewing:

* Built-in Anypoint Monitoring dashboard:
+
image::monitoring-dashboards-time-ranges.png[]
* Classic application monitoring dashboard:
+
image::monitoring-dashboards-cbd92.png[]

If your application runs on multiple workers, the workers are charted as different curves on the same graphs, differentiated by different colors.

If your application runs on a server group or cluster, the aggregated metrics of the servers in the group or cluster appear as a single plot line on each graph. If you want to see the metrics at the individual server level, you can look at the dashboard for the individual server. If multiple apps are running on the server, you see the overall server performance, without a distinction between each of the apps running on it.

== Server Monitoring Dashboard

The server monitoring dashboard displays high-level information about the servers, including heap memory and CPU percentage, as well as detailed memory usage metrics.

=== Access the Server Monitoring Dashboard

To access the server monitoring dashboard:

. In Runtime Manager, click *Servers*. 
. Click the name of the server to monitor. 
+
The dashboard for the server appears:
+
image::monitoring-dashboards-server.png[]

You can also navigate to a server's monitoring dashboard from the <<Access the Server Group or Cluster Dashboard,server group or cluster dashboard>> that includes the server.

=== Navigating the Server Monitoring Dashboard 

The server monitoring dashboard displays metrics divided into two tabs:

* <<Overview Tab,Overview>>
+
Displays memory and CPU usage for the server at a high level.
* <<Breakdown Tab,Breakdown>>
+
Displays detailed metrics that track each part of the server's memory separately.

You can view all graphs for different time ranges by selecting the desired time interval in the top-right corner of the dashboard you are viewing:

image::monitoring-dashboards-cbd92.png[]

You can display an overlay of numerical detail about activity that occurred at a specific time by hovering over the graph:

image::monitoring-dashboards-hover.png[]

If your server runs multiple applications, you can view the performance of each in a separate set of charts by selecting the application checkboxes to display the details pane on the right with this data.

The memory usage graphs on the dashboards track these values:

* *Usage*
+
The amount of memory (in MB) currently in use. 
+
If the Java VM attempts to increase the used memory to be greater than committed memory,  memory allocation fails even if the amount of used memory is increased to below the total memory.
* *Total*
+
The maximum amount of memory (in MB) for use by the server. The maximum amount can change or be undefined. 
* *Committed*
+
The amount of memory (in MB) available for use by the Java VM. This amount varies over time. The amount of committed memory is always greater than or equal to the amount of used memory.


==== Overview Tab

The graphs in the Overview tab provide high-level metrics related to memory and CPU usage.

Heap Memory::
The total heap memory usage in MB:
+
* Heap memory usage
* Total memory
* Heap committed memory
+
image::monitoring-dashboards-heap.png[]
+
See the <<Breakdown Tab,Breakdown tab>> for details about each of the components of the heap memory.

CPU::
This metric is not available on Windows.
+
The total CPU usage of the server, as a percentage:

* CPU usage
* System available processing power
* System load average
+
image::monitoring-dashboards-cpu.png[]


==== Breakdown Tab 

The graphs in the Breakdown tab provide detailed metrics, including graphs that track each part of the server's memory separately.

* Heap memory metrics relate to the portion of the server memory that makes up the JVM heap:
** <<eden,Eden>>
** <<survivor,Survivor>>
** <<old_gen,Old Gen>>

* Non-heap memory metrics refer to memory that exists outside the JVM heap:
+
** <<code_cache,Code Cache>>
** <<compressed_class,Compressed Class Space>>
** <<metaspace,Metaspace>>


[[thread_count]]
Thread Count:: 
The number of individual Java execution threads over time:
+
image::monitoring-dashboards-threads.png[]

[[garbage_collection]]
Garbage Collection::
Metrics for these areas of the heap:

* Young Generation, where all new objects are allocated.
* Old Generation, where long-surviving objects are stored.
+
image::monitoring-dashboards-garbage.png[]

[[class_loading]]
Class Loading::
The total number of classes that are currently loaded or being loaded across all apps in the JVM:
+
image::monitoring-dashboards-classloading.png[]

[[eden]]
Eden::
The pool in the heap space from which memory is initially allocated for most objects.
+
image::monitoring-dashboards-eden.png[]

[[survivor]]
Survivor::
The pool in the heap containing objects that have survived the garbage collection of the Eden space.
+
image::monitoring-dashboards-survivor.png[]

[[old_gen]]
Old Gen::
The pool in the heap containing objects that have existed for some time in the survivor space.
+
image::monitoring-dashboards-tenure.png[]

[[code_cache]]
Code Cache::
This non-heap space contains memory that is used for compilation and storage of native code.
+
image::monitoring-dashboards-cahce.png[]

[[compressed_class]]
Compressed Class Space::
This metric is available only when using JDK 8+.
+
image::monitoring-dashboards-class-space.png[]

[[metaspace]]
Metaspace::
JVM memory space that uses native memory for the representation of class metadata.
+
This metric is available only when using JDK 8+.
+
image::monitoring-dashboards-meta.png[]



== Server Group or Cluster Monitoring Dashboard

You can use the server group or cluster monitoring dashboard to view aggregated metrics for servers in a group or cluster.

The server group or cluster monitoring dashboard displays these aggregated metrics:

* CPU usage, as a percentage of the capacity
* Memory usage, in MB
* Heap total, in MB

The aggregated metrics of the selected servers appear as a single plot line on each graph.

=== Access the Server Group or Cluster Dashboard

To view aggregated metrics for servers in a server group or cluster for on-premises deployment:

. In Runtime Manager, click *Servers*.
. Click the cluster or server group name to display the dashboard.
. Select one or more servers or applications from the list to display aggregated metrics in the details pane.

=== Navigating the Group or Cluster Dashboard

// image::monitoring-dashboards-5cd3c.png[]

You can view graphs for specific periods by selecting the time interval in the top-right corner:

image::monitoring-dashboards-cbd92.png[]

You can display this information for either servers or applications by clicking the appropriate tab:

image::monitoring-dashboards-6fe9f.png[]

From this dashboard, you can click a <<Access the Server Monitoring Dashboard,server>> or <<Access the Application Monitoring Dashboard,application>> name to access the dashboard for that item.


== See Also

* xref:monitoring::configure-monitoring-cloudhub.adoc[Configure and Enable Anypoint Monitoring for Mule Apps (CloudHub)]
* xref:monitoring::app-dashboards.adoc[Built-in Application Dashboard]
* xref:cloudhub.adoc[CloudHub] 
* xref:cloudhub-fabric.adoc[CloudHub Fabric]
* xref:alerts-on-runtime-manager[Alerts]
* xref:insight.adoc[Insight]
